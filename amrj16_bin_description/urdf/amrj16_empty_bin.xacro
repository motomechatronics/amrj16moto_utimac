<?xml version="1.0"?>

    <robot xmlns:xacro="http://www.ros.org/wiki/xacro" name="empty_bin">

    <link name="base_footprint">
    </link>

    <link name="base_link">
    </link>

    <joint name="base_link_base_footprintjoint" type="fixed">
    <origin rpy="0 0 0" xyz="0 0 0.103" />  
    <parent link="base_footprint" />
    <child link="base_link" />
  </joint>

    <!-- chassis-->
    <link name="chassis">
    <visual>
      <origin xyz="0 0 0" rpy="0 0 0"/>
      <geometry>
        <mesh filename="package://amrj16_bin_description/models/meshes/utimac_bin_v1.dae"/>        
      </geometry>     
    </visual>

    <collision>
      <origin xyz="0 0 0" rpy="0 0 0"/>
      <geometry>
        <mesh filename="package://amrj16_bin_description/models/meshes/utimac_bin_v1.dae"/>     
      </geometry>
    </collision>

    <inertial>
        <mass value="34.2"/>
        <origin rpy="0 0 0" xyz="0 0 0"/>
        <inertia ixx="10.164712" ixy="0.021460923" ixz="-0.0060724714" iyy="3.4403550" iyz="1.7125796" izz="12.572506"/>           
    </inertial>

  </link>

  <joint name="base_link_joint" type="fixed">
    <origin rpy="0 0 0" xyz="0 0 0" />  
    <parent link="base_link" />
    <child link="chassis" />
  </joint>

   
    <!-- front-right caster hub -->
    <link name="front_right_caster_hub">            
        <visual>
            <origin xyz="0 0 0" rpy="0 0 0"/>
                <geometry>
                    <mesh filename="package://amrj16_bin_description/models/meshes/utimac_caster_bin_v1.dae"/>
                </geometry>
        </visual>

    <collision>
        <origin xyz="0 0 0" rpy="0 0 0"/>
        <geometry>
                 <mesh filename="package://amrj16_bin_description/models/meshes/utimac_caster_bin_v1.dae"/>
        </geometry>
    </collision>   

    <inertial>
        <mass value="1"/>
        <origin rpy="0 0 0" xyz="0 0 0"/>
        <inertia 
            ixx="0.00006" ixy="0.000000359" ixz="0.000014875" iyy="0.000059805" iyz="-0.00000077564" izz="0.000042536"/>            
    </inertial> 

    </link>
    
    <joint name="chassis_front_right_caster_hub_joint" type="continuous">
       <origin xyz="0.2925 0.215 0" rpy="0 0 0"/>
        <parent link="chassis"/>
        <child link="front_right_caster_hub"/>
        <axis xyz="0 0 1"/>
        <limit effort="1000.0" velocity="100.0" />
        <dynamics damping="0.0" friction="0.1"/>
    </joint>

    <!-- front-right caster wheel -->
    <link name="front_right_caster_wheel">            
        <visual>
            <origin xyz="0 0 0" rpy="1.57 0 0"/>
                <geometry>
                    <mesh filename="package://amrj16_bin_description/models/meshes/utimac_wheel_bin_v1.dae"/>
                </geometry>
        </visual>

    <collision>
        <origin xyz="0 0 0" rpy="1.57  0 0"/>
        <geometry>
                 <mesh filename="package://amrj16_bin_description/models/meshes/utimac_wheel_bin_v1.dae"/>
        </geometry>
    </collision>   

    <inertial>
        <mass value="0.189"/>
        <origin rpy="0 0 0" xyz="1.57  0 0"/>
        <inertia 
            ixx="0.000025441" ixy="0" ixz="0" iyy="0.00002543" iyz="-0.0000000017817" izz="0.000028616"/>            
    </inertial> 

    </link>

    <gazebo reference="front_right_caster_wheel">
        <kp>1000000000000000000000000000.0</kp>
        <kd>1000000000000000000000000000.0</kd>
        <mu1>10.0</mu1>
        <mu2>10.0</mu2>      
    </gazebo>

    <joint name="front_right_caster_hub_wheel_joint" type="continuous">
       <origin xyz="0.039 0 -0.067" rpy="0 0 0"/>
        <parent link="front_right_caster_hub"/>
        <child link="front_right_caster_wheel"/>
        <axis xyz="0 1 0"/>
        <limit effort="1000.0" velocity="100.0" />
        <dynamics damping="0.0" friction="0.1"/>
    </joint>


    
    <!-- front-left caster hub -->
    <link name="front_left_caster_hub">            
        <visual>
            <origin xyz="0 0 0" rpy="0 0 0"/>
                <geometry>
                    <mesh filename="package://amrj16_bin_description/models/meshes/utimac_caster_bin_v1.dae"/>
                </geometry>
        </visual>

        <collision>
            <origin xyz="0 0 0" rpy="0 0 0"/>
            <geometry>
                    <mesh filename="package://amrj16_bin_description/models/meshes/utimac_caster_bin_v1.dae"/>
            </geometry>
        </collision>   

        <inertial>
            <mass value="0.140"/>
            <origin rpy="0 0 0" xyz="0 0 0"/>
            <inertia 
                ixx="0.00006" ixy="0.000000359" ixz="0.000014875" iyy="0.000059805" iyz="-0.00000077564" izz="0.000042536"/>            
        </inertial> 
    </link>
        
    <joint name="chassis_front_left_caster_hub_joint" type="continuous">
        <origin xyz="0.2925 -0.215 0" rpy="0 0 0"/>
        <parent link="chassis"/>
        <child link="front_left_caster_hub"/>
        <axis xyz="0 0 1"/>
        <limit effort="1000.0" velocity="100.0" />
        <dynamics damping="0.0" friction="0.1"/>
    </joint>

    <!-- front-left caster wheel -->
    <link name="front_left_caster_wheel">            
        <visual>
            <origin xyz="0 0 0" rpy="1.57 0 0"/>
                <geometry>
                    <mesh filename="package://amrj16_bin_description/models/meshes/utimac_wheel_bin_v1.dae"/>
                </geometry>
        </visual>
    
        <collision>
            <origin xyz="0 0 0" rpy="1.57 0 0"/>
            <geometry>
                   <mesh filename="package://amrj16_bin_description/models/meshes/utimac_wheel_bin_v1.dae"/>
            </geometry>
        </collision>   

        <inertial>
            <mass value="1"/>
            <origin rpy="0 0 0" xyz="1.57 0 0"/>
            <inertia 
                ixx="0.000025441" ixy="0" ixz="0" iyy="0.00002543" iyz="-0.0000000017817" izz="0.000028616"/>            
        </inertial> 

    </link>

    <gazebo reference="front_left_caster_wheel">
        <kp>1000000000000000000000000000.0</kp>
        <kd>1000000000000000000000000000.0</kd>
        <mu1>10.0</mu1>
        <mu2>10.0</mu2>    
    </gazebo>

    <joint name="front_left_caster_hub_wheel_joint" type="continuous">
        <origin xyz="0.039 0 -0.067" rpy="0 0 0"/>
        <parent link="front_left_caster_hub"/>
        <child link="front_left_caster_wheel"/>
        <axis xyz="0 1 0"/>
        <limit effort="1000.0" velocity="100.0" />
        <dynamics damping="0.0" friction="0.1"/>
    </joint>

    <!-- rear-right caster hub -->
    <link name="rear_right_caster_hub">            
        <visual>
            <origin xyz="0 0 0" rpy="0 0 0"/>
                <geometry>
                    <mesh filename="package://amrj16_bin_description/models/meshes/utimac_caster_bin_v1.dae"/>
                </geometry>
        </visual>

    <collision>
        <origin xyz="0 0 0" rpy="0 0 0"/>
        <geometry>
                 <mesh filename="package://amrj16_bin_description/models/meshes/utimac_caster_bin_v1.dae"/>
        </geometry>
    </collision>   

    <inertial>
        <mass value="1"/>
        <origin rpy="0 0 0" xyz="0 0 0"/>
        <inertia 
            ixx="0.00006" ixy="0.000000359" ixz="0.000014875" iyy="0.000059805" iyz="-0.00000077564" izz="0.000042536"/>            
    </inertial> 

    </link>
    
    <joint name="chassis_rear_right_caster_hub_joint" type="continuous">
       <origin xyz="-0.2925 0.215 0" rpy="0 0 0"/>
        <parent link="chassis"/>
        <child link="rear_right_caster_hub"/>
        <axis xyz="0 0 1"/>
        <limit effort="1000.0" velocity="100.0" />
        <dynamics damping="0.0" friction="0.1"/>
    </joint>

 <!-- rear-right caster wheel -->
    <link name="rear_right_caster_wheel">            
        <visual>
            <origin xyz="0 0 0" rpy="1.57 0 0"/>
                <geometry>
                    <mesh filename="package://amrj16_bin_description/models/meshes/utimac_wheel_bin_v1.dae"/>
                </geometry>
        </visual>

    <collision>
        <origin xyz="0 0 0" rpy="1.57  0 0"/>
        <geometry>
                 <mesh filename="package://amrj16_bin_description/models/meshes/utimac_wheel_bin_v1.dae"/>
        </geometry>
    </collision>   

    <inertial>
        <mass value="1"/>
        <origin rpy="0 0 0" xyz="1.57  0 0"/>
        <inertia 
            ixx="0.000025441" ixy="0" ixz="0" iyy="0.00002543" iyz="-0.0000000017817" izz="0.000028616"/>            
    </inertial> 

    </link>

    <gazebo reference="rear_right_caster_wheel">
        <kp>1000000000000000000000000000.0</kp>
        <kd>1000000000000000000000000000.0</kd>
        <mu1>10.0</mu1>
        <mu2>10.0</mu2>      
    </gazebo>

    <joint name="rear_right_caster_hub_wheel_joint" type="continuous">
       <origin xyz="0.039 0 -0.067" rpy="0 0 0"/>
        <parent link="rear_right_caster_hub"/>
        <child link="rear_right_caster_wheel"/>
        <axis xyz="0 1 0"/>
        <limit effort="1000.0" velocity="100.0" />
        <dynamics damping="0.0" friction="0.1"/>
    </joint>


=======================


 <!-- rear-left caster hub -->
    <link name="rear_left_caster_hub">            
        <visual>
            <origin xyz="0 0 0" rpy="0 0 0"/>
                <geometry>
                    <mesh filename="package://amrj16_bin_description/models/meshes/utimac_caster_bin_v1.dae"/>
                </geometry>
        </visual>

    <collision>
        <origin xyz="0 0 0" rpy="0 0 0"/>
        <geometry>
                 <mesh filename="package://amrj16_bin_description/models/meshes/utimac_caster_bin_v1.dae"/>
        </geometry>
    </collision>   

    <inertial>
        <mass value="1"/>
        <origin rpy="0 0 0" xyz="0 0 0"/>
        <inertia 
            ixx="0.00006" ixy="0.000000359" ixz="0.000014875" iyy="0.000059805" iyz="-0.00000077564" izz="0.000042536"/>            
    </inertial> 

    </link>
    
    <joint name="chassis_rear_left_caster_hub_joint" type="continuous">
       <origin xyz="-0.2925 -0.215 0" rpy="0 0 0"/>
        <parent link="chassis"/>
        <child link="rear_left_caster_hub"/>
        <axis xyz="0 0 1"/>
        <limit effort="1000.0" velocity="100.0" />
        <dynamics damping="0.0" friction="0.1"/>
    </joint>

 <!-- rear-right caster wheel -->
    <link name="rear_left_caster_wheel">            
        <visual>
            <origin xyz="0 0 0" rpy="1.57 0 0"/>
                <geometry>
                    <mesh filename="package://amrj16_bin_description/models/meshes/utimac_wheel_bin_v1.dae"/>
                </geometry>
        </visual>

    <collision>
        <origin xyz="0 0 0" rpy="1.57  0 0"/>
        <geometry>
                 <mesh filename="package://amrj16_bin_description/models/meshes/utimac_wheel_bin_v1.dae"/>
        </geometry>
    </collision>   

    <inertial>
        <mass value="1"/>
        <origin rpy="0 0 0" xyz="1.57  0 0"/>
        <inertia 
            ixx="0.000025441" ixy="0" ixz="0" iyy="0.00002543" iyz="-0.0000000017817" izz="0.000028616"/>            
    </inertial> 

    </link>

    <gazebo reference="rear_left_caster_wheel">
        <kp>1000000000000000000000000000.0</kp>
        <kd>1000000000000000000000000000.0</kd>
        <mu1>10.0</mu1>
        <mu2>10.0</mu2>      
    </gazebo>

    <joint name="rear_left_caster_hub_wheel_joint" type="continuous">
       <origin xyz="0.039 0 -0.067" rpy="0 0 0"/>
        <parent link="rear_left_caster_hub"/>
        <child link="rear_left_caster_wheel"/>
        <axis xyz="0 1 0"/>
        <limit effort="1000.0" velocity="100.0" />
        <dynamics damping="0.0" friction="0.1"/>
    </joint>


    

    <!-- PLUGINS -->       
    <!-- JOINT PUBLISHER -->
    <gazebo>
      <plugin name="amrj16_joint_state" filename="libgazebo_ros_joint_state_publisher.so">
      <ros>
          <remapping>~/out:=joint_states</remapping>
      </ros>
      <update_rate>30</update_rate>

      <joint_name>chassis_right_wheel_joint</joint_name>
      <joint_name>chassis_left_wheel_joint</joint_name>

      <joint_name>chassis_front_right_caster_hub_joint</joint_name>
      <joint_name>front_right_caster_hub_wheel_joint</joint_name>

      <joint_name>chassis_front_left_caster_hub_joint</joint_name>
      <joint_name>front_left_caster_hub_wheel_joint</joint_name>
      
    </plugin>
  </gazebo>

   
</robot>



